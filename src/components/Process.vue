<template>
    <div class="process">
        <div class="approach-intro-graphic">
            <p class="approach-intro-graphic__before">
                Hello, we’re <span></span>.
            </p>
            <p class="approach-intro-graphic__after">
                Hi, There! We’re ODC.
            </p>
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="43px" height="130px" viewBox="0 0 43 130" enable-background="new 0 0 43 130" xml:space="preserve">
                <path fill="none" stroke="#0085A1" stroke-width="5" stroke-miterlimit="10" d="M40.4,21c0,10.1-8.3,18.4-18.4,18.4S3.6,31.1,3.6,21
                S11.9,2.6,22,2.6S40.4,10.9,40.4,21z"></path>
                <path fill="#0085A1" d="M29.5,21c0,4.1-3.4,7.5-7.5,7.5s-7.5-3.4-7.5-7.5s3.4-7.5,7.5-7.5S29.5,16.9,29.5,21z"></path>
                <line fill="none" stroke="#0085A1" stroke-width="5" stroke-miterlimit="10" x1="21.5" y1="130" x2="21.5" y2="40"></line>
            </svg>
        </div>
        <section class="l-approach-team">
            <svg version="1.1" id="svg-approach-team-intro-line" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="5px" height="128px" viewBox="0 0 5 128" enable-background="new 0 0 5 128" xml:space="preserve">
                <line fill="none" stroke="#FFFFFF" stroke-width="5" stroke-linejoin="round" stroke-miterlimit="10" x1="2.5" y1="128" x2="2.5" y2="0"></line>
            </svg>

            <div class="l-approach-team__line-art">
                <svg version="1.1" id="svg-approach-team-table" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="896px" height="1258px" viewBox="0 0 896 1258" enable-background="new 0 0 896 1258" xml:space="preserve">
                    <line fill="none" stroke="#FFFFFF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="565" y1="367.5" x2="592" y2="367.5"></line>
                    <line fill="none" stroke="#FFFFFF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="565" y1="390.5" x2="622" y2="390.5"></line>
                    <line fill="none" stroke="#FFFFFF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="565" y1="401.5" x2="622" y2="401.5"></line>
                    <line fill="none" stroke="#FFFFFF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="565" y1="413.5" x2="622" y2="413.5"></line>
                    <line fill="none" stroke="#FFFFFF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="565" y1="425.5" x2="622" y2="425.5"></line>
                    <line fill="none" stroke="#FFFFFF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="565" y1="436.5" x2="622" y2="436.5"></line>
                    <g>
	                    <path fill="none" stroke="#FFFFFF" stroke-width="5" stroke-miterlimit="10" d="M361.5,492.8c0,0.4-0.3,0.7-0.7,0.7h-98.6
		                c-0.4,0-0.7-0.3-0.7-0.7v-28.6c0-0.4,0.3-0.7,0.7-0.7h98.6c0.4,0,0.7,0.3,0.7,0.7V492.8z"></path>
                    </g>
                    <line fill="none" stroke="#FFFFFF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="311.5" y1="462" x2="311.5" y2="438"></line>
                    <line fill="none" stroke="#FFFFFF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="310.5" y1="398" x2="310.5" y2="416"></line>
                    <line fill="none" stroke="#FFFFFF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" x1="340" y1="426.5" x2="322" y2="426.5"></line>
                    <g>
	                <path fill="none" stroke="#FFFFFF" stroke-width="5" stroke-miterlimit="10" d="M321.5,418.2c0-0.4-0.3-0.7-0.7-0.7h-19.6
		                c-0.4,0-0.7,0.3-0.7,0.7v18.6c0,0.4,0.3,0.7,0.7,0.7h19.6c0.4,0,0.7-0.3,0.7-0.7V418.2z"></path>
                    </g>
                        <path fill="none" stroke="#FFFFFF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
	                    M322,385.5c0-5.9-4.9-10.8-10.8-10.8s-10.8,4.9-10.8,10.8s4.9,10.8,10.8,10.8S322,391.4,322,385.5z"></path>
                    <g>
	                    <path fill="none" stroke="#FFFFFF" stroke-width="5" stroke-miterlimit="10" d="M361.5,418.2c0-0.4-0.3-0.7-0.7-0.7h-19.6
		                    c-0.4,0-0.7,0.3-0.7,0.7v18.6c0,0.4,0.3,0.7,0.7,0.7h19.6c0.4,0,0.7-0.3,0.7-0.7V418.2z"></path>
                    </g>
                    <g id="developer-chair" v-bind:class="{ 'is-revealed': isMiddleActive }">
	                    <rect x="266.2" y="199" fill="none" width="95.2" height="32"></rect>
                        <text transform="matrix(1 0 0 1 279.4194 208.3496)" fill="#FFFFFF" font-family="'Gotham-Bold'" font-size="11">Developer</text>
                        <path fill="none" stroke="#73BCCB" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
		                    M373.5,239v-48.9c0-16.5-13.8-29.6-30.2-29.6h-57c-16.5,0-29.8,13.1-29.8,29.6V239"></path>
                    </g>
                    <g id="project-owner-chair" v-bind:class="{ 'is-revealed': isMiddleActive }">
	                    <rect x="37" y="408" fill="none" width="98" height="53"></rect>
                        <text transform="matrix(1 0 0 1 59.936 417.3496)"><tspan x="0" y="0" fill="#FFFFFF" font-family="'Gotham-Bold'" font-size="11">Project </tspan><tspan x="3.7" y="16.5" fill="#FFFFFF" font-family="'Gotham-Bold'" font-size="11">Owner </tspan><tspan x="8.8" y="33.1" fill="#FFFFFF" font-family="'Gotham-Bold'" font-size="11">(you)</tspan></text>
                        <path fill="none" stroke="#73BCCB" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
		                    M113,487.5H64c-16.5,0-30.5-13.3-30.5-29.8v-57c0-16.5,14-30.2,30.5-30.2h49"></path>
                    </g>
                    <g id="specialist-chair" v-bind:class="{ 'is-revealed': isMiddleActive }">
	                    <path fill="none" stroke="#73BCCB" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
		                    M782,487.5h49c16.5,0,30.5-13.3,30.5-29.8v-57c0-16.5-14-30.2-30.5-30.2h-49"></path>
                        <rect x="781" y="424" fill="none" width="98" height="19"></rect>
                        <text transform="matrix(1 0 0 1 781 433.3311)" fill="#FFFFFF" font-family="'Gotham-Bold'" font-size="11">Specialist</text>
                    </g>
                    <g id="project-manager-chair" v-bind:class="{ 'is-revealed': isBottomActive }">
	                    <path fill="none" stroke="#73BCCB" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
		                    M645.5,619v49.2c0,16.5-14,30.2-30.5,30.2h-57c-16.5,0-29.5-13.8-29.5-30.2V619"></path>
                        <rect x="537.6" y="639" fill="none" width="98" height="32"></rect>
                        <text transform="matrix(1 0 0 1 560.4646 648.3311)"><tspan x="0" y="0" fill="#FFFFFF" font-family="'Gotham-Bold'" font-size="11">Project </tspan><tspan x="-3" y="16.5" fill="#FFFFFF" font-family="'Gotham-Bold'" font-size="11">Manager</tspan></text>
                    </g>
                    <g id="designer-chair" v-bind:class="{ 'is-revealed': isBottomActive }">
	                    <path fill="none" stroke="#73BCCB" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
		                    M373.5,619v49.2c0,16.5-13.8,30.2-30.2,30.2h-57c-16.5,0-29.8-13.8-29.8-30.2V619"></path>
                        <rect x="265.8" y="648" fill="none" width="98" height="32"></rect>
                        <text transform="matrix(1 0 0 1 285.8477 657.3311)" fill="#FFFFFF" font-family="'Gotham-Bold'" font-size="11">Designer</text>
                    </g>
                    <g id="intro-path-1" v-bind:class="{ 'is-revealed': isTopActive }" >
	                    <path fill="none" stroke="#FFFFFF" stroke-width="5" stroke-linejoin="round" stroke-miterlimit="10" d="M447.5,0v277.5
		                    c0,0-110.6,0-147.5,0s-147.5,0-147.5,0v297h160V495"></path>
                    </g>
                    <g id="intro-path-2" v-bind:class="{ 'is-revealed': isMiddleActive }">
	                    <path fill="none" stroke="#FFFFFF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
		                    M616,343.5h22.5v118h-92v-118h46v-66h150v297c0,0-111.4,0-148.5,0s-149,0-149,0"></path>
                    </g>
                    <g id="outro-path" v-bind:class="{ 'is-revealed': isMiddleActive }">
	                    <path fill="none" stroke="#FFFFFF" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" d="
		                M445.5,575c0,0,0,256.1,0,341.5s0,341.5,0,341.5"></path>
                    </g>
                </svg>
            </div>

            <p class="l-approach-team__intro">
                Every One Design project starts with collaboration. We learn everything about you, collectively define the project, set goals for the weeks to come, and determine metrics for success.
            </p>

            <div class="l-approach-heading js-reveal" v-bind:class="{ 'is-revealed': isTopActive }">
                <div class="heading-set heading-set--on-dark">
                    <p class="heading-set__primary">Getting to know you</p>
                    <p class="heading-set__secondary">Collaboration comes first.</p>
                </div>
            </div>

            <div class="l-approach-blurbs">
                <article class="blurb js-reveal blurb--on-dark" v-bind:class="{ 'is-revealed': isBottomActive }">
                    <img src="https://s3.amazonaws.com/odc-web/misc/approach/odc-linked_approach-team-communication.svg?mtime=20170105123059" alt="" class="blurb__image">
                    <div class="blurb__content">
                        <h1 class="blurb__content__heading">Open and Honest Communication</h1>
                        <p class="blurb__content__body">Success starts with trust. Throughout the project you’ll always know exactly where things stand and where they’re headed.</p>
                    </div>
                </article>
                <article class="blurb js-reveal blurb--on-dark" v-bind:class="{ 'is-revealed': isBottomActive }">
                    <img src="https://s3.amazonaws.com/odc-web/misc/approach/odc-linked_approach-team-guide.svg?mtime=20170105123059" alt="" class="blurb__image">
                    <div class="blurb__content">
                        <h1 class="blurb__content__heading">A Dedicated Guide</h1>
                        <p class="blurb__content__body">Every project is assigned a dedicated project manager to keep things on target and keep you informed.</p>
                    </div>
                </article>
            </div>

            <div class="l-approach-content js-reveal" v-bind:class="{ 'is-revealed': isBottomActive }">
                <div class="heading-set heading-set--on-dark">
                    <p class="heading-set__primary">Partners from the get go.</p>
                </div>

                <div class="markdown-block markdown-block--on-dark markdown-block--s">
                    <p>Great collaborations result in great work. Your participation from start to finish is crucial. We rely on your expertise and feedback throughout the process to understand your business and your challenges. It’s all powered by partnership.</p>

                </div>
            </div>
        </section>
    </div>
</template>

<script>
    export default {
        name: "Process",
        data () {
            return {
                isTopActive: false,
                isMiddleActive: false,
                isBottomActive: false
            }
        },
        methods: {
            handleScroll (event) {

                let posY = window.scrollY;
                if (posY > 500) {
                    this.isTopActive = true;
                    if (posY > 700) {
                        this.isMiddleActive = true;
                        posY > 1100 ? this.isBottomActive = true : this.isBottomActive = false;
                    }
                    else this.isMiddleActive = false;
                }
                else this.isTopActive = false;
            }
        },
        created () {
            if (!this.isClient) return;
            window.addEventListener('scroll', this.handleScroll);
        },
        destroyed () {
            if (!this.isClient) return;
            window.removeEventListener('scroll', this.handleScroll);
        }
    }
</script>

<style lang="scss" scoped>
    .process {
        padding: 200px 0;
    }
    .approach-intro-graphic {
        position: relative;
        display: block;
        clear: left;
        margin: 0 auto;
        width: 21.53846em;
        &__before, &__after {
            font-style: normal;
            font-family: 'Gotham SSm A', 'Gotham SSm B', 'Helvetica Neue', Helvetica, Arial;
            font-weight: 700;
            line-height: 1.6;
            text-transform: uppercase;
            font-size: 10px;
            position: absolute;
            color: #0085a1;
            top: 1.3em;
        }
        &__before {
            left: -5em;
            span {
                display: inline-block;
                border-bottom: 1px solid #0085a1;
                width: 5em;
                margin: 0 .3em;
            }
        }
        &__after {
            right: -3.2em;
        }
    }
    svg {
        display: block;
        margin: 0 auto;
        &:not(:root) {
            overflow: hidden;
        }
    }

    .l-approach-team {
        height: 2000px;
        display: block;
        padding: 0;
        padding-bottom: 8.33333%;
        max-width: 100%;
        margin-left: auto;
        margin-right: auto;
        position: relative;
        background-color: #171717;
       // background-image: url(../assets/img/blurry-bg.gif);
        background-position: center center;
        &__intro {
            font-size: 13px;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            font-style: normal;
            font-family: 'Gotham SSm A', 'Gotham SSm B', 'Helvetica Neue', Helvetica, Arial;
            font-weight: 700;
            color: #fff;
            line-height: 1.7;
        }
        &__line-art {
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            position: absolute;
            overflow: hidden;
        }
        .l-approach-heading {
            margin-top: 7.69231em;
            margin-bottom: 49.23077em;
            opacity: 0;
            -ms-transform: translateY(3.07692em);
            transform: translateY(3.07692em);
            transition: 1s cubic-bezier(0.19, 1, 0.22, 1);
            transition-property: transform, opacity;
            .is-revealed {
                opacity: 1;
                -ms-transform: translateY(0);
                transform: translateY(0);
            }
        }
        .l-approach-blurbs {
            float: left;
            clear: right;
        }
        .l-approach-content {
            float: right;
        }
    }
    #svg-approach-team-table {
        #developer-chair {
            -ms-transform: translateY(-3.84615em);
            transform: translateY(-3.84615em);
        }
        #project-owner-chair {
            -ms-transform: translateX(-3.84615em);
            transform: translateX(-3.84615em);
        }
        #specialist-chair {
             -ms-transform: translateX(3.84615em);
             transform: translateX(3.84615em);
        }
        #developer-chair, #project-owner-chair,
        #specialist-chair, #designer-chair, #project-manager-chair {
            opacity: 0;
            transition: 1s cubic-bezier(0.19, 1, 0.22, 1);
        }
        #developer-chair.is-revealed, #project-owner-chair.is-revealed,
        #specialist-chair.is-revealed, #designer-chair.is-revealed,
        #project-manager-chair.is-revealed {
            -ms-transform: translateY(0) translateX(0);
            transform: translateY(0) translateX(0);
            opacity: 1;
            fill: #fff;
        }
        text, tspan {
            font-style: normal;
            font-family: 'Gotham SSm A', 'Gotham SSm B', 'Helvetica Neue', Helvetica, Arial;
            font-weight: 700;
            font-size: 11px;
            line-height: 1.6;
            text-transform: uppercase;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        #designer-chair, #project-manager-chair {
          -ms-transform: translateY(3.84615em);
          transform: translateY(3.84615em);
        }


        #intro-path-1 path {
            stroke-dasharray: 1109;
            stroke-dashoffset: 1109;
        }
        #intro-path-2 path {
            stroke-dasharray: 1920;
            stroke-dashoffset: -1920;
        }
        #outro-path path {
            stroke-dasharray: 700;
            stroke-dashoffset: 700;
        }
        #intro-path-1 path,
        #intro-path-2 path,
        #outro-path path {
            transition: 1.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        #intro-path-1.is-revealed path,
        #intro-path-2.is-revealed path,
        #outro-path.is-revealed path {
            stroke-dashoffset: 0 !important;
        }
    }

    .heading-set {
        margin-bottom: 12.5%;
        text-decoration: none;
        display: block;
        &:after {
            display: block;
            width: 34px;
            height: 0;
            border-bottom: 4px solid;
            content: "";
            color: inherit;
            border-color: #fff;
            margin-top: 1.5em;
        }
        &__primary {
            font-style: normal;
            font-weight: normal;
            font-family: 'Futura W01 Bold', 'Helvetica Neue', Helvetica, Arial;
            font-weight: 400;
            font-size: 12px;
            font-size: 12px;
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            text-transform: uppercase;
            color: #0085a1;
            margin-bottom: 1.06667em;
        }
        &__secondary {
            font-style: normal;
            font-weight: normal;
            font-family: 'Futura W01 Bold', 'Helvetica Neue', Helvetica, Arial;
            font-weight: 400;
            font-size: 18px;
            font-size: 18px;
            line-height: auto;
            line-height: 1.4;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            color: #0085a1;
        }
    }

    .heading-set--on-dark .heading-set__primary {
        color: #fff;
    }

    .heading-set--on-dark .heading-set__secondary {
        color: #fff;
    }

    .blurb__content__heading {
        font-style: normal;
        font-weight: normal;
        font-family: 'Gotham SSm A', 'Gotham SSm B', 'Helvetica Neue', Helvetica, Arial;
        font-weight: 400;
        font-size: 23px;
        font-size: 10px;
        line-height: 2.2;
        font-style: normal;
        font-weight: normal;
        font-family: 'Gotham SSm A', 'Gotham SSm B', 'Helvetica Neue', Helvetica, Arial;
        font-weight: 700;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        color: white;
    }
    .blurb__content__body {
        font-style: normal;
        font-weight: normal;
        font-family: 'Gotham SSm A', 'Gotham SSm B', 'Helvetica Neue', Helvetica, Arial;
        font-weight: 400;
        font-size: 10px;
        line-height: 2.2;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        color: white;
    }


    @media (min-width: 39.375em) {
        .l-approach-team__intro {
            margin: 0 auto;
            padding: 1.38462em 1.76923em;
            max-width: 26.30769em;
            border: 5px solid #fff;
            border-radius: 4px;
        }

        .l-approach-team__line-art {
            top: 20.69231em;
            margin: auto;
            margin-top: -6.92308em;
            width: 57.69231em;
        }
        .l-approach-content {
            opacity: 0;
            -ms-transform: translateY(3.07692em);
            transform: translateY(3.07692em);
            transition: 1s cubic-bezier(0.19, 1, 0.22, 1);
            transition-property: transform, opacity;
        }
        .l-approach-content.is-revealed {
            opacity: 1;
            -ms-transform: translateY(0);
            transform: translateY(0);
        }
        .l-approach-heading.is-revealed {
            opacity: 1;
            -ms-transform: translateY(0);
            transform: translateY(0);
        }
        .l-approach-heading {
            opacity: 0;
            -ms-transform: translateY(3.07692em);
            transform: translateY(3.07692em);
            transition: 1s cubic-bezier(0.19, 1, 0.22, 1);
            transition-property: transform, opacity;
        }
        .blurb.is-revealed {
            opacity: 1;
            -ms-transform: translateY(0);
            transform: translateY(0);
        }

        .blurb {
            opacity: 0;
            -ms-transform: translateY(3.07692em);
            transform: translateY(3.07692em);
            transition: 1s cubic-bezier(0.19, 1, 0.22, 1);
            transition-property: transform, opacity;
        }
        .l-approach-team .l-approach-heading {
            float: right;
            margin-top: 5.76923em;
            margin-bottom: 40em;
        }
        .l-approach-heading {
            max-width: 34.61538em;
            width: 33.33333%;
            float: left;
            margin: 0 8.33333%;
        }
        .heading-set {
            margin-bottom: 0;
        }
        .l-approach-blurbs {
            width: 33.33333%;
            float: left;
            margin: 0 8.33333%;
        }
        .blurb__image {
            margin: 0;
            margin-right: 1.53846em;
            width: 4.61538em;
        }
        .blurb__image, .blurb__content {
            display: inline-block;
            vertical-align: middle;
        }
        .blurb {
            opacity: 0;
            -ms-transform: translateY(3.07692em);
            transform: translateY(3.07692em);
            transition: 1s cubic-bezier(0.19, 1, 0.22, 1);
            transition-property: transform, opacity;
        }
        .blurb.is-revealed {
            opacity: 1;
            -ms-transform: translateY(0);
            transform: translateY(0);
        }
        .l-approach-content {
            width: 33.33333%;
            float: left;
            margin: 0 8.33333%;
            max-width: 34.61538em;
        }
        .blurb {
            opacity: 0;
            -ms-transform: translateY(3.07692em);
            transform: translateY(3.07692em);
            transition: 1s cubic-bezier(0.19, 1, 0.22, 1);
            transition-property: transform, opacity;
        }
        .blurb.is-revealed {
            opacity: 1;
            -ms-transform: translateY(0);
            transform: translateY(0);
        }
    }

    @media (min-width: 62.5em) {
        .l-approach-team__intro {
            line-height: 2.0;
        }
        .l-approach-team__line-art {
            top: 17.23077em;
            margin-top: 0;
            width: 100%;
        }
        .l-approach-team .l-approach-heading {
            margin-top: 7.69231em;
            margin-bottom: 38.23077em;
        }
        .heading-set__secondary {
            font-size: 25px;
            line-height: auto;
        }
        .blurb__image {
            width: auto;
        }
        .blurb__content {
            max-width: 18.07692em;
        }
        .careers-callout__heading, .careers-callout__image, .markdown-block {
            display: inline-block;
            vertical-align: middle;
            color: white;
        }
    }

</style>
